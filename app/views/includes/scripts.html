<!-- Javascript -->
<script src="/public/javascripts/details.polyfill.js"></script>
<script src="/public/javascripts/govuk/selection-buttons.js"></script>
<script src="/public/javascripts/application.js"></script>
<script src="/public/javascripts/select2/select2.js"></script>
<script src="/public/javascripts/carriers.js"></script>

<script src="/public/javascripts/jquery.multi-select.js"></script>
<script src="/public/javascripts/jquery.quicksearch.js"></script>
<script src="/public/javascripts/jquery-ui.min.js"></script>
<script>
    $(function () {
        var dropdownId = "#decision-select";
        var preLoad = true;

        var selectedDropdownSelector = dropdownId + " :selected";

        $(dropdownId).change(function () {
            var selected = $(selectedDropdownSelector).val();

            $(".guarantee-decision").addClass("js-hidden");

            if (!preLoad) {
                $(".form-group").removeClass("error");
                $("span.field-validation-error").empty();
                var errorsSummary = $(".error-summary");
                errorsSummary.empty();
                errorsSummary.removeClass("error-summary");
                errorsSummary.addClass("error-summary-valid");
            }

            $("#status" + selected).removeClass("js-hidden");

            if (selected === "" || selected === undefined || selected === null) {
                $("#status").addClass("js-hidden");
            } else {
                $("#status").removeClass("js-hidden");
            }

            preLoad = false;
        });

        var currentlySelected = $(selectedDropdownSelector).text();

        if (currentlySelected !== "") {
            $(dropdownId).trigger("change");
        }

        $("#rdoYes").change(function() {
            $("#referenceNumber").addClass("js-hidden");
            $("#blanketBondReference").removeClass("js-hidden");
        });

        $("#rdoNo").change(function () {
            $("#referenceNumber").removeClass("js-hidden");
            $("#blanketBondReference").addClass("js-hidden");
        });
    });
</script>
